<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <title>Error - HexAI WiFi</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="octalink-bg">
    <div class="octalink-flex">
        <div class="octalink-card" style="max-width: 400px; margin: 40px auto;">
            <div class="octalink-card-header">
                <span class="macos-dot red"></span>
                <span class="macos-dot yellow"></span>
                <span class="macos-dot green"></span>
            </div>
            <div class="octalink-logo" style="display: flex; align-items: center; justify-content: center; gap: 16px; margin-bottom: 18px;">
                <svg viewBox="0 0 24 24" class="wifi-icon" style="width:48px; height:48px;"><path d="M12,3L2,12H5V20H11V14H13V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,13.6 14.1,15.3 12,15.3C9.9,15.3 8.2,13.6 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7Z" fill="#fff"/></svg>
                <span class="brand-name" style="font-size:2rem; font-weight:700; color:#fff; letter-spacing:1px;">HexAI WiFi</span>
            </div>
            
            <div class="error-icon" style="text-align: center; margin-bottom: 20px;">
                <svg viewBox="0 0 24 24" width="80" height="80" fill="#ff6b6b">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                </svg>
            </div>
            
            <h2 class="octalink-title" style="color: #ff6b6b;">Connection Error</h2>
            <p class="octalink-subtitle">$(error)</p>
            
            <div class="error-details" style="margin: 20px 0; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 12px; border: 1px solid rgba(255, 107, 107, 0.3);">
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; margin: 0;">
                    Please check your voucher code and try again. If the problem persists, contact our support team.
                </p>
            </div>
            
            <a href="login-gambia.html" class="octalink-btn-primary" style="display: block; text-align: center; text-decoration: none;">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" style="margin-right: 8px; vertical-align: middle;">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                Try Again
            </a>
            
            <a href="tarifs-gambia.html" class="octalink-btn-ticket" style="margin-top: 12px;">
                <svg class="ticket-icon" viewBox="0 0 24 24"><path d="M22,10V6A2,2 0 0,0 20,4H4A2,2 0 0,0 2,6V10C3.11,10 4,10.9 4,12A2,2 0 0,1 2,14V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V14A2,2 0 0,1 20,12C20,10.9 20.9,10 22,10M13,17H11V15H13V17M13,13H11V7H13V13Z"/></svg>
                Buy New Voucher
            </a>
        </div>
    </div>
    
    <div class="contact-macos-card" style="max-width: 350px; margin: 20px auto;">
        <div class="contact-macos-header">
            <span class="macos-dot red"></span>
            <span class="macos-dot yellow"></span>
            <span class="macos-dot green"></span>
        </div>
        <div class="contact-macos-title">Need Help?</div>
        <div class="contact-macos-list">
            <div class="contact-macos-item">
                <span class="contact-icon">
                    <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><path d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V20a1 1 0 01-1 1C10.07 21 3 13.93 3 5a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z" stroke="#4eaaff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </span>
                <span>+220 123 4567</span>
            </div>
            <div class="contact-macos-item">
                <span class="contact-icon">
                    <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="#4eaaff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </span>
                <span>support@hexai.gm</span>
            </div>
        </div>
    </div>
    
    <script src="conf-gambia.js"></script>
    <script src="js/theme-toggle.js"></script>
    <script>
        // Log Wave redirect parameters
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const allParams = {};
            for (const [key, value] of urlParams.entries()) {
                allParams[key] = value;
            }
            
            console.log('=== WAVE ERROR REDIRECT DEBUG ===');
            console.log('URL:', window.location.href);
            console.log('Parameters:', allParams);
            console.log('Hash:', window.location.hash);
            console.log('Timestamp:', new Date().toISOString());
            console.log('================================');
            
            // Check if we have a reference to look up payment details
            const reference = urlParams.get('reference') || urlParams.get('client_reference');
            if (reference) {
                console.log('Payment reference found:', reference);
            }
            
            // Send to backend for logging
            fetch('/api/log-redirect', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    page: 'error',
                    url: window.location.href,
                    params: allParams,
                    reference: reference,
                    timestamp: new Date().toISOString()
                })
            }).catch(e => console.error('Failed to send log:', e));
        })();
    </script>
</body>

</html>
